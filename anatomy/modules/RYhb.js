/**
 * id: RYhb
 * path: ./wave-graph
 */

function(require,module,exports) {
"use strict";var t,i,e,s,h,n,r,a=this&&this.__classPrivateFieldSet||function(t,i,e){if(!i.has(t))throw new TypeError("attempted to set private field on non-instance");return i.set(t,e),e},o=this&&this.__classPrivateFieldGet||function(t,i){if(!i.has(t))throw new TypeError("attempted to get private field on non-instance");return i.get(t)};Object.defineProperty(exports,"__esModule",{value:!0});var p=require("@bilibili-live/web-player-common"),l=function(){function l(o){t.set(this,0),i.set(this,0),e.set(this,[]),s.set(this,[]),h.set(this,0),n.set(this,0),r.set(this,0),a(this,t,o.width),a(this,i,o.height),this.initGraph()}return l.prototype.updateGraph=function(t){o(this,e).shift(),o(this,e).push(t),a(this,s,[]),a(this,n,o(this,e).length>0?Math.max.apply(this,o(this,e)):1);try{a(this,r,o(this,i)/(o(this,n)-o(this,h)))}catch(c){p.logger.error(c)}for(var l=0,u=o(this,e).length;l<u;l++){var f=o(this,e)[l];o(this,s).push([2*l,o(this,i)-(f-o(this,h))*o(this,r)])}},l.prototype.getGraph=function(){for(var e="",h=o(this,s),n=0,r=h.length;n<r;n++)e+=h[n].join(",")+" ";return e.includes("NaN")&&(e="0"),'<svg width="'+o(this,t)+'" height="'+o(this,i)+'" viewBox="0 0 '+o(this,t)+" "+o(this,i)+'">\n                <g>\n                  <polyline stroke="white" fill="none" points="'+e+'">\n                  </polyline>\n                </g>\n              </svg>'},l.prototype.destroy=function(){a(this,e,[]),a(this,s,[]),a(this,h,0),a(this,n,0),a(this,r,0),this.initGraph()},l.prototype.initGraph=function(){for(var h=0,n=o(this,t)/2;h<n;h++)o(this,e).push(0),o(this,s).push([2*h,o(this,i)])},l}();t=new WeakMap,i=new WeakMap,e=new WeakMap,s=new WeakMap,h=new WeakMap,n=new WeakMap,r=new WeakMap,exports.default=l;
}